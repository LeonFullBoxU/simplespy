-- Create GUI
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local TextBox = Instance.new("TextBox")
local Button = Instance.new("TextButton")
local UICornerFrame = Instance.new("UICorner")
local UICornerButton = Instance.new("UICorner")
local UITextSizeConstraint = Instance.new("UITextSizeConstraint")

-- Parent GUI to PlayerGui
ScreenGui.Name = "CustomGUI" -- Ensure the ScreenGui has a unique name
local success, err = pcall(function()
    ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
end)
if not success then
    warn("Error parenting ScreenGui: ", err)
    return
end

-- Frame properties
Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(40, 44, 52)
Frame.Size = UDim2.new(0, 350, 0, 200)
Frame.Position = UDim2.new(0.5, -175, 0.5, -100)
Frame.AnchorPoint = Vector2.new(0.5, 0.5)
Frame.Visible = true -- Ensure the Frame is visible

-- Add rounded corners to Frame
UICornerFrame.Parent = Frame
UICornerFrame.CornerRadius = UDim.new(0.05, 0)

-- TextBox properties
TextBox.Parent = Frame
TextBox.Size = UDim2.new(0.8, 0, 0.2, 0)
TextBox.Position = UDim2.new(0.1, 0, 0.25, 0)
TextBox.PlaceholderText = "Enter Username"
TextBox.Text = ""
TextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
TextBox.BackgroundColor3 = Color3.fromRGB(50, 54, 62)
TextBox.Font = Enum.Font.Gotham
TextBox.TextSize = 16

UITextSizeConstraint.Parent = TextBox
UITextSizeConstraint.MaxTextSize = 18

-- Button properties
Button.Parent = Frame
Button.Size = UDim2.new(0.8, 0, 0.2, 0)
Button.Position = UDim2.new(0.1, 0, 0.6, 0)
Button.Text = "Execute"
Button.TextColor3 = Color3.fromRGB(255, 255, 255)
Button.BackgroundColor3 = Color3.fromRGB(70, 130, 180)
Button.Font = Enum.Font.Gotham
Button.TextSize = 16

-- Add rounded corners to Button
UICornerButton.Parent = Button
UICornerButton.CornerRadius = UDim.new(0.05, 0)

-- Button hover effect
Button.MouseEnter:Connect(function()
    Button.BackgroundColor3 = Color3.fromRGB(100, 150, 200)
end)

Button.MouseLeave:Connect(function()
    Button.BackgroundColor3 = Color3.fromRGB(70, 130, 180)
end)

-- Function to perform actions on a player
local function performActions(player)
    local localPlayer = game.Players.LocalPlayer

    -- 1. Teleport to the username
    if localPlayer.Character and player.Character then
        localPlayer.Character:SetPrimaryPartCFrame(player.Character.PrimaryPart.CFrame)
    else
        warn("Unable to teleport. Character not found.")
    end

    -- Add delay between teleport and events
    task.wait(0.5)

    -- 2. Fire CarryEvent
    local carryEvent = game:GetService("ReplicatedStorage").Events:FindFirstChild("CarryEvent")
    if carryEvent then
        print("CarryEvent found, firing...")
        local args = {
            [1] = player,
            [2] = "request_accepted"
        }
        carryEvent:FireServer(unpack(args))
    else
        warn("CarryEvent not found.")
    end

    -- 3. Fire TitleEvent
    local titleEvent = game:GetService("ReplicatedStorage").Events:FindFirstChild("TitleEvent")
    if titleEvent then
        print("TitleEvent found, firing...")
        local args = {
            [1] = "NoviceHunter"
        }
        titleEvent:FireServer(unpack(args))
    else
        warn("TitleEvent not found.")
    end

    -- 4. No additional delay; directly fire jdskhfsIIIllliiIIIdchgdIiIIIlIlIli
    local damageEvent = game:GetService("ReplicatedStorage"):FindFirstChild("jdskhfsIIIllliiIIIdchgdIiIIIlIlIli")
    if damageEvent then
        print("Damage event found, firing rapidly...")
        for i = 1, 20 do -- Increased to 20 for more calls
            local humanoid = localPlayer.Character and localPlayer.Character:FindFirstChild("Humanoid")
            if humanoid then
                local args = {
                    [1] = humanoid,
                    [2] = 5
                }
                damageEvent:FireServer(unpack(args))
            else
                warn("Local player's humanoid not found.")
                break
            end
        end
    else
        warn("Damage event not found.")
    end
end

-- Button functionality
Button.MouseButton1Click:Connect(function()
    local username = TextBox.Text
    if username == "" then
        warn("Please enter a username.")
        return
    end

    local player = game.Players:FindFirstChild(username)
    if not player then
        warn("Player not found: " .. username)
        return
    end

    performActions(player)
end)

-- Tool functionality
local tool = Instance.new("Tool")
tool.Name = "TargetTool"
tool.RequiresHandle = false
tool.Parent = game.Players.LocalPlayer:WaitForChild("Backpack")

tool.Activated:Connect(function()
    local mouse = game.Players.LocalPlayer:GetMouse()
    local target = mouse.Target and mouse.Target.Parent
    if target and game.Players:FindFirstChild(target.Name) then
        performActions(game.Players[target.Name])
    else
        warn("No valid player target found.")
    end
end)
