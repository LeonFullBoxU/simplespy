local player = game.Players.LocalPlayer
local gui = player:WaitForChild("PlayerGui")

-- Create a ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.ResetOnSpawn = false
screenGui.Name = "KillGrindGui"
screenGui.Parent = gui

-- Create the Kill Grind frame
local killGrindFrame = Instance.new("Frame")
killGrindFrame.Size = UDim2.new(0.15, 0, 0.1, 0) -- Small size for the checkbox
killGrindFrame.Position = UDim2.new(0.02, 0, 0.02, 0) -- Top-left corner
killGrindFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
killGrindFrame.BorderSizePixel = 1
killGrindFrame.BorderColor3 = Color3.fromRGB(0, 0, 0)
killGrindFrame.Parent = screenGui

-- Add a UI corner for rounded edges
local uiCorner = Instance.new("UICorner")
uiCorner.CornerRadius = UDim.new(0.1, 0)
uiCorner.Parent = killGrindFrame

-- Checkbox frame
local checkbox = Instance.new("Frame")
checkbox.Size = UDim2.new(0.2, 0, 0.6, 0)
checkbox.Position = UDim2.new(0.05, 0, 0.2, 0)
checkbox.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
checkbox.BorderColor3 = Color3.fromRGB(255, 255, 255)
checkbox.Parent = killGrindFrame

-- Checkbox toggle indicator
local checkboxIndicator = Instance.new("Frame")
checkboxIndicator.Size = UDim2.new(0.8, 0, 0.8, 0)
checkboxIndicator.Position = UDim2.new(0.1, 0, 0.1, 0)
checkboxIndicator.BackgroundColor3 = Color3.fromRGB(0, 255, 0) -- Default: OFF (hidden)
checkboxIndicator.Visible = false
checkboxIndicator.Parent = checkbox

-- Label for "Kill Grind"
local killGrindLabel = Instance.new("TextLabel")
killGrindLabel.Size = UDim2.new(0.7, 0, 1, 0)
killGrindLabel.Position = UDim2.new(0.3, 0, 0, 0)
killGrindLabel.BackgroundTransparency = 1
killGrindLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
killGrindLabel.TextScaled = true
killGrindLabel.Font = Enum.Font.Gotham
killGrindLabel.Text = "Kill Grind"
killGrindLabel.Parent = killGrindFrame

-- Variables
local teleportCoordinates = Vector3.new(-32.31, 593.24, 811.43)
local isChecked = false -- Initial state of the checkbox

-- Functions for teleport and damage
local function removeForceField()
    local character = player.Character
    if character then
        local forceField = character:FindFirstChildOfClass("ForceField")
        if forceField then
            forceField:Destroy()
        end
    end
end

local function teleportCharacter()
    local character = player.Character
    if character and character:FindFirstChild("HumanoidRootPart") then
        character.HumanoidRootPart.CFrame = CFrame.new(teleportCoordinates)
    end
end

local function applyDamage()
    local character = player.Character
    if character and character:FindFirstChild("Humanoid") then
        character.Humanoid:TakeDamage(999999999)
    end
end

local function teleportAndDamage()
    if isChecked then
        removeForceField()
        teleportCharacter()
        wait(1.3)
        applyDamage()
    end
end

-- Toggle checkbox functionality
checkbox.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        isChecked = not isChecked -- Toggle the checkbox state
        checkboxIndicator.Visible = isChecked -- Show/hide the green indicator

        if isChecked then
            -- Activate Kill Grind
            teleportAndDamage()
        end
    end
end)

-- Handle character respawn
player.CharacterAdded:Connect(function(character)
    character:WaitForChild("Humanoid")
    character:WaitForChild("HumanoidRootPart")
    wait(0.5)
    teleportAndDamage()
end)
