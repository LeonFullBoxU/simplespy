local player = game.Players.LocalPlayer
local gui = player:WaitForChild("PlayerGui")

-- Create a ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.ResetOnSpawn = false
screenGui.Name = "PlayerGui"
screenGui.Parent = gui

-- Create the main frame
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0.2, 0, 0.3, 0) -- Adjust size as needed
mainFrame.Position = UDim2.new(0.02, 0, 0.02, 0)
mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
mainFrame.BorderSizePixel = 1
mainFrame.BorderColor3 = Color3.fromRGB(0, 0, 0)
mainFrame.Parent = screenGui

-- Add rounded edges
local uiCorner = Instance.new("UICorner")
uiCorner.CornerRadius = UDim.new(0.1, 0)
uiCorner.Parent = mainFrame

-- Title Label
local titleLabel = Instance.new("TextLabel")
titleLabel.Size = UDim2.new(1, 0, 0.2, 0)
titleLabel.BackgroundTransparency = 1
titleLabel.Text = "Player"
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
titleLabel.TextScaled = true
titleLabel.Font = Enum.Font.GothamBold
titleLabel.Parent = mainFrame

-- Function to create toggle buttons
local function createToggleButton(parent, labelText, position, onClick)
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0.9, 0, 0.2, 0)
    frame.Position = position
    frame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
    frame.BorderSizePixel = 1
    frame.BorderColor3 = Color3.fromRGB(255, 255, 255)
    frame.Parent = parent

    local label = Instance.new("TextLabel")
    label.Size = UDim2.new(0.8, 0, 1, 0)
    label.Position = UDim2.new(0.1, 0, 0, 0)
    label.BackgroundTransparency = 1
    label.Text = labelText
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.TextScaled = true
    label.Font = Enum.Font.Gotham
    label.Parent = frame

    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0.2, 0, 1, 0)
    button.Position = UDim2.new(0.8, 0, 0, 0)
    button.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    button.Text = "OFF"
    button.Font = Enum.Font.GothamBold
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextScaled = true
    button.Parent = frame

    button.MouseButton1Click:Connect(onClick)
    return button
end

-- Variables
local teleportCoordinates = Vector3.new(-32.31, 593.24, 811.43)
local isKillGrindActive = false
local isAntiAfkActive = false
local heartbeatConnection

-- Toggle Button Handlers
local killGrindButton = createToggleButton(mainFrame, "Kill Grind", UDim2.new(0.05, 0, 0.3, 0), function()
    isKillGrindActive = not isKillGrindActive
    killGrindButton.Text = isKillGrindActive and "ON" or "OFF"
    if isKillGrindActive then
        local function removeForceField()
            local character = player.Character
            if character then
                local forceField = character:FindFirstChildOfClass("ForceField")
                if forceField then
                    forceField:Destroy()
                end
            end
        end

        local function teleportCharacter()
            local character = player.Character
            if character and character:FindFirstChild("HumanoidRootPart") then
                character.HumanoidRootPart.CFrame = CFrame.new(teleportCoordinates)
            end
        end

        local function applyDamage()
            local character = player.Character
            if character and character:FindFirstChild("Humanoid") then
                character.Humanoid:TakeDamage(999999999)
            end
        end

        removeForceField()
        teleportCharacter()
        wait(1.3)
        applyDamage()
    end
end)

local antiAfkButton = createToggleButton(mainFrame, "Anti-AFK", UDim2.new(0.05, 0, 0.6, 0), function()
    isAntiAfkActive = not isAntiAfkActive
    antiAfkButton.Text = isAntiAfkActive and "ON" or "OFF"
    if isAntiAfkActive then
        heartbeatConnection = game:GetService("Players").LocalPlayer.Idled:Connect(function()
            local vu = game:GetService("VirtualUser")
            vu:CaptureController()
            vu:ClickButton2(Vector2.new())
        end)
    else
        if heartbeatConnection then
            heartbeatConnection:Disconnect()
            heartbeatConnection = nil
        end
    end
end)

-- Handle Character Respawn
player.CharacterAdded:Connect(function(character)
    wait(0.5)
    if isKillGrindActive then
        killGrindButton.MouseButton1Click:Invoke()
    end
end)
