-- Create the GUI elements
local CoreGui = game:GetService("CoreGui")
local ScreenGui = Instance.new("ScreenGui")
local ToggleButton = Instance.new("TextButton")
local DestroyButton = Instance.new("TextButton")

-- Ensure the GUI persists across deaths
ScreenGui.ResetOnSpawn = false

-- Parent the GUI to CoreGui
ScreenGui.Parent = CoreGui

-- Parent buttons to the ScreenGui
ToggleButton.Parent = ScreenGui
DestroyButton.Parent = ScreenGui

-- Set up the toggle button's appearance and position
ToggleButton.Size = UDim2.new(0, 200, 0, 50)
ToggleButton.Position = UDim2.new(0.5, -100, 0.4, 0)
ToggleButton.Text = "Start Kill Grind"

-- Set up the destroy button's appearance and position
DestroyButton.Size = UDim2.new(0, 200, 0, 50)
DestroyButton.Position = UDim2.new(0.5, -100, 0.5, 0)
DestroyButton.Text = "Destroy GUI"

-- Variables to control the toggle
local isRunning = false

-- Function to execute the kill grind process
local function killGrindLoop()
    local player = game.Players.LocalPlayer
    local spawnArgs = {
        [1] = "monkey",
        [2] = "monkey19",
        [3] = "skatemonkeyAnim"
    }

    while isRunning do
        -- Step 1: Fire the SpawnEvent
        game:GetService("ReplicatedStorage").Events.SpawnEvent:FireServer(unpack(spawnArgs))
        wait(0.4)

        -- Step 2: Remove ForceField
        if player.Character and player.Character:FindFirstChild("ForceField") then
            player.Character.ForceField:Destroy()
        end

        -- Step 3: Teleport the player
        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            player.Character.HumanoidRootPart.CFrame = CFrame.new(-85.69, 593.24, 813.09)
        else
            warn("HumanoidRootPart not found!")
        end
        wait(0.05)

        -- Step 4: Fire jdskhfsIIIllliiIIIdchgdIiIIIlIlIli remote 10 times over 1 second
        local remote = game:GetService("ReplicatedStorage"):FindFirstChild("jdskhfsIIIllliiIIIdchgdIiIIIlIlIli")
        if remote then
            for i = 1, 5 do
                remote:FireServer(player.Character.Humanoid, 16)
                wait(0.02) -- Fire the remote every 0.1 seconds
            end
        else
            warn("jdskhfsIIIllliiIIIdchgdIiIIIlIlIli remote not found!")
        end

        -- Step 5: Apply damage to the player
        if player.Character and player.Character:FindFirstChild("Humanoid") then
            player.Character.Humanoid:TakeDamage(99999999)
        else
            warn("Humanoid not found!")
        end
        wait(0.2)
    end
end

-- Button click event to toggle the grind loop
ToggleButton.MouseButton1Click:Connect(function()
    isRunning = not isRunning
    if isRunning then
        ToggleButton.Text = "Stop Kill Grind"
        coroutine.wrap(killGrindLoop)()
    else
        ToggleButton.Text = "Start Kill Grind"
    end
end)

-- Button to destroy the GUI
DestroyButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)
